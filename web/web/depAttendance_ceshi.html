<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta charset="utf-8" />
		<title>我的团队</title>

		<meta name="description" content="with selectable items(single &amp; multiple) and custom icons" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

		<!-- bootstrap & fontawesome -->
		<link rel="stylesheet" href="./assets/css/bootstrap.min.css" />
		<link rel="stylesheet" href="./assets/css/font-awesome.min.css" />

		<!-- page specific plugin styles -->

		<!-- text fonts -->
		<link rel="stylesheet" href="./assets/css/ace-fonts.css" />

		<!-- ace styles -->
		<link rel="stylesheet" href="./assets/css/ace.min.css" />

		<!--[if lte IE 9]>
			<link rel="stylesheet" href="./assets/css/ace-part2.min.css" />
		<![endif]-->
		<link rel="stylesheet" href="./assets/css/ace-skins.min.css" />
		<link rel="stylesheet" href="./assets/css/ace-rtl.min.css" />

		<!--[if lte IE 9]>
		  <link rel="stylesheet" href="./assets/css/ace-ie.min.css" />
		<![endif]-->

		<!-- inline styles related to this page -->

		<!-- ace settings handler -->
		<script src="./assets/js/ace-extra.min.js"></script>

		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

		<!--[if lte IE 8]>
		<script src="./assets/js/html5shiv.js"></script>
		<script src="./assets/js/respond.min.js"></script>
		<![endif]-->
		<script src='./assets/js/jquery.min.js'></script>
		<script src="./layer/layer.min.js"></script>
		<script src="./myjs/backupNew.js?v=20141224"></script>
        <script src="./myjs/lexus.js?v=20141224"></script>

        <style>
        	.tree .tree-folder .tree-folder-box{
        		width:100%;height:30px;padding:0;
        	}
			.tree .tree-folder .tree-folder-icon{
				float:left;padding:5px 0;width:26px;text-align:center;
			}
			.tree .tree-folder .tree-folder-icon i.ace-icon:first-child{
				margin: -1px 0 0 -1px;
			}
			.tree .tree-folder .tree-folder-text{
				float:left;padding:5px 0;width:calc(100% - 26px);text-indent:2px;display:block;white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
			}
			.tree .tree-folder .tree-folder-text i{
				margin-right:3px;width:15px;height:13px;text-align: center;
			}
			.tree .tree-folder .tree-folder-header:hover{
				background:none;
			}
			.tree .tree-folder .tree-folder-icon:hover{
				background-color: #F0F7FC;
			}
			.tree .tree-folder .tree-folder-text:hover{
				background-color: #F0F7FC;
			}
			.tree .tree-item-box{
				padding: 0;height: 30px;width:100%;border:none;
			}
			.tree .tree-item .tree-item-icon{
				width:26px;float: left;padding:5px 0;text-align:center;border:none;display:none;
			}
			.tree .tree-item .tree-item-name{
				width:100%;/*width:calc(100% - 26px);*/float:left;margin-left:0;padding:5px 0;border:none;text-indent:2px;line-height:22px;display:block;white-space:nowrap;overflow:hidden; text-overflow:ellipsis;
			}
			.tree .tree-item .tree-item-name i{
				margin-right:3px;width:15px;height:13px;text-align: center;
			}
			.tree .tree-item-icon:before,.tree .tree-item-name:before{
				border:none;
			}
			.tree .tree-item:hover{
				background: none;
			}
			.tree .tree-item-icon:hover,.tree .tree-item-name:hover{
				background-color: #F0F7FC;
			}
			.tree .tree-selected .tree-item-icon>.ace-icon:first-child{
				background-color: #F9A021;
			    border-color: #F9A021;
			    color: #FFF;
			}
			.tree .tree-selected{
				background:none;
			}
        </style>
	</head>

	<body class="no-skin">
		<!-- /section:basics/navbar.layout -->
		<div class="main-container" id="main-container">
			<div class="row">
				<div class="col-xs-12">
					<!-- PAGE CONTENT BEGINS -->

					<!-- #section:plugins/fuelux.treeview -->
					<div class="row">
						<div class="col-sm-3">
							<div class="widget-box widget-color-blue2">
								<div class="widget-header">
									<h4 class="widget-title lighter smaller">我的团队</h4>
								</div>

								<div class="widget-body">
								    <div class="widget-main padding-8">
								        <div id="tree1" class="tree tree-selectable">
								            
								        
								        	<div class="tree-folder" style="display: block;">
								            	<div class="tree-folder-header tree-folder-box">
								            		<div class="tree-folder-header tree-folder-icon"><i class="ace-icon tree-minus"></i></div>
								            		<div class="tree-folder-header tree-folder-text">
									                    <i class="menu-icon fa fa-sitemap"></i>
									                    <span>信息技术中心互联网应用技术部</span>
									                </div>
								            	</div>
								                <div class="tree-folder-content" style="display: block;">
								                    <div class="tree-item tree-item-box" style="display: block;">
								                        <div class="tree-item tree-item-icon"><i class=" ace-icon ace-icon fa fa-times"></i></div>
								                        <div class="tree-item tree-item-name">
								                            <i class="menu-icon fa fa-user"></i>
								                            <span>徐锐</span>
								                        </div>
								                    </div>
								                    <div class="tree-item tree-item-box" style="display: block;">
								                        <div class="tree-item tree-item-icon"><i class=" ace-icon ace-icon fa fa-times"></i></div>
								                        <div class="tree-item tree-item-name">
								                            <i class="menu-icon fa fa-user"></i>
								                            <span>王莹</span>
								                        </div>
								                    </div>
								                    <div class="tree-item tree-item-box" style="display: block;">
								                        <div class="tree-item tree-item-icon"><i class=" ace-icon ace-icon fa fa-times"></i></div>
								                        <div class="tree-item tree-item-name">
								                            <i class="menu-icon fa fa-user"></i>
								                            <span>郑怀亮</span>
								                        </div>
								                    </div>
								                    <div class="tree-item tree-item-box tree-selected" style="display: block;">
								                        <div class="tree-item tree-item-icon"><i class=" ace-icon fa fa-check"></i></div>
								                        <div class="tree-item tree-item-name">
								                            <i class="menu-icon fa fa-user"></i>
								                            <span>吴斌</span>
								                        </div>
								                    </div>
								                    <div class="tree-folder" style="display: block;">
										            	<div class="tree-folder-header tree-folder-box">
										            		<div class="tree-folder-header tree-folder-icon"><i class="ace-icon tree-plus"></i></div>
										            		<div class="tree-folder-header tree-folder-text">
											                    <i class="menu-icon fa fa-sitemap"></i>
											                    <span>程序开发与业务分析部</span>
											                </div>
										            	</div>
										                <div class="tree-folder-content" style="display: block;">
										                </div>
										            </div>
								                </div>
								                <div class="tree-loader">
								                	<div class="tree-loading">
								                		<i class="ace-icon fa fa-refresh fa-spin blue"></i>
								                	</div>
								                </div>
								            </div>
								            <div class="tree-folder" style="display: block;">
								            	<div class="tree-folder-header tree-folder-box">
								            		<div class="tree-folder-header tree-folder-icon"><i class="ace-icon tree-plus"></i></div>
								            		<div class="tree-folder-header tree-folder-text">
									                    <i class="menu-icon fa fa-sitemap"></i>
									                    <span>互联网应用技术部</span>
									                </div>
								            	</div>
								                <div class="tree-folder-content" style="display: block;">
								                </div>
								            </div>
								            <div class="tree-folder" style="display: block;">
								            	<div class="tree-folder-header tree-folder-box">
								            		<div class="tree-folder-header tree-folder-icon"><i class="ace-icon tree-plus"></i></div>
								            		<div class="tree-folder-header tree-folder-text">
									                    <i class="menu-icon fa fa-sitemap"></i>
									                    <span>SAP应用技术部</span>
									                </div>
								            	</div>
								                <div class="tree-folder-content" style="display: block;">
								                </div>
								            </div>
								            <div class="tree-folder" style="display: block;">
								            	<div class="tree-folder-header tree-folder-box">
								            		<div class="tree-folder-header tree-folder-icon"><i class="ace-icon tree-plus"></i></div>
								            		<div class="tree-folder-header tree-folder-text">
									                    <i class="menu-icon fa fa-sitemap"></i>
									                    <span>IT基础架构部</span>
									                </div>
								            	</div>
								                <div class="tree-folder-content" style="display: block;">
								                </div>
								            </div>
								        </div>
								    </div>
								</div>
							</div>
						</div>
					</div>

					<!-- /section:plugins/fuelux.treeview -->
					<script type="text/javascript">
						var $assets = "./assets";//this will be used in fuelux.tree-sampledata.js
					</script>

					<!-- PAGE CONTENT ENDS -->
				</div><!-- /.col -->
			</div><!-- /.row -->

			<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
				<i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
			</a>
		</div><!-- /.main-container -->

		<!-- basic scripts -->

		<!--[if !IE]> -->
		<script type="text/javascript">
			window.jQuery || document.write("<script src='./assets/js/jquery.min.js'>"+"<"+"/script>");
		</script>

		<!-- <![endif]-->

		<!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='./assets/js/jquery1x.min.js'>"+"<"+"/script>");
</script>
<![endif]-->
		<script type="text/javascript">
			if('ontouchstart' in document.documentElement) document.write("<script src='./assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
		</script>
		<script src="./assets/js/bootstrap.min.js"></script>

		<!-- page specific plugin scripts -->
		<script src="./assets/js/fuelux/data/fuelux.tree-sample-demo-data.js"></script>
		<script src="./assets/js/fuelux/fuelux.tree.min.js"></script>

		<!-- ace scripts -->
		<script src="./assets/js/ace-elements.min.js"></script>
		<script src="./assets/js/ace.min.js"></script>

		<!-- inline scripts related to this page -->
		<script type="text/javascript">
			//请求组织树
			function getOrg(orgId){
				if( $('#'+orgId).prev(".tree-folder-box").hasClass("open") ){
					$('#'+orgId).prev(".tree-folder-box").removeClass("open");
					$('#'+orgId).prev(".tree-folder-box").children(".tree-folder-icon").children("i").removeClass("tree-minus");
					$('#'+orgId).prev(".tree-folder-box").children(".tree-folder-icon").children("i").addClass("tree-plus");
					$('#'+orgId).hide();
				}else{
					//获取当前的点击项的所有同级DOM
					var AtSame = $('#'+orgId).parent(".tree-folder").siblings(".tree-folder");
					AtSame.find(".tree-folder-box").removeClass("open");
					AtSame.find(".tree-folder-box").children(".tree-folder-icon").children("i").removeClass("tree-minus");
					AtSame.find(".tree-folder-box").children(".tree-folder-icon").children("i").addClass("tree-plus");
					AtSame.find(".tree-folder-content").hide();

					if($('#'+orgId).html() != ''){
						$('#'+orgId).prev(".tree-folder-box").addClass("open");
						$('#'+orgId).prev(".tree-folder-box").children(".tree-folder-icon").children("i").removeClass("tree-plus");
						$('#'+orgId).prev(".tree-folder-box").children(".tree-folder-icon").children("i").addClass("tree-minus");
						$('#'+orgId).show();
					}else{
						//加载动画开启
						$('#'+orgId).next(".tree-loader").show();
						setTimeout(function() {
							var orgJSON = submit_4_1_xin(orgId);
							var liStr = '';
							if(orgJSON.P_ORG_TAB.item.length != '0'){   //有部门
								var P_ORG_TAB = orgJSON.P_ORG_TAB.item;
								for(var k in P_ORG_TAB){
									var ZNEXT = checkNoChar(P_ORG_TAB[k].ZNEXT);
									if(ZNEXT == 'X'){
										liStr +='<div class="tree-folder" style="display: block;">'
								    			+'<div class="tree-folder-header tree-folder-box">'
								            		+'<div class="tree-folder-header tree-folder-icon" onclick="getOrg(\''+checkNoChar(P_ORG_TAB[k].ORGEH)+'\')"><i class="ace-icon tree-plus"></i></div>'
								            		+'<div class="tree-folder-header tree-folder-text" onclick="getOrgList(\''+checkNoChar(P_ORG_TAB[k].ORGEH)+'\')">'
									                    +'<span>'+checkNoChar(P_ORG_TAB[k].ORGEH_TXT)+'</span>'
									                +'</div>'
								            	+'</div>'
								                +'<div class="tree-folder-content" id="'+checkNoChar(P_ORG_TAB[k].ORGEH)+'" style="display: block;">'
								                +'</div>'
								                +'<div class="tree-loader" style="display:none;">'
											        +'<div class="tree-loading">'
											            +'<i class="ace-icon fa fa-refresh fa-spin blue"></i>'
											        +'</div>'
											    +'</div>'
								            +'</div>';
									}else{
										liStr +='<div class="tree-folder" style="display: block;">'
								    			+'<div class="tree-folder-header tree-folder-box">'
								            		+'<div class="tree-folder-header tree-folder-text" onclick="getOrgList(\''+checkNoChar(P_ORG_TAB[k].ORGEH)+'\')" style="width: 100%;padding-left: 2px;">'
									                    +'<span>'+checkNoChar(P_ORG_TAB[k].ORGEH_TXT)+'</span>'
									                +'</div>'
								            	+'</div>'
								                +'<div class="tree-folder-content" id="'+checkNoChar(P_ORG_TAB[k].ORGEH)+'" style="display: block;">'
								                +'</div>'
								                +'<div class="tree-loader" style="display:none;">'
											        +'<div class="tree-loading">'
											            +'<i class="ace-icon fa fa-refresh fa-spin blue"></i>'
											        +'</div>'
											    +'</div>'
								            +'</div>';
									}
								}
							}
							$('#'+orgId).prev(".tree-folder-box").addClass("open");
							$('#'+orgId).prev(".tree-folder-box").children(".tree-folder-icon").children("i").removeClass("tree-plus");
							$('#'+orgId).prev(".tree-folder-box").children(".tree-folder-icon").children("i").addClass("tree-minus");
							$('#'+orgId).show();
							//加载动画关闭动画
							$('#'+orgId).next(".tree-loader").hide();
							$('#'+orgId).html(liStr);
						}, 300 + parseInt(Math.random() * 300));
					}
						
				}
			}
			jQuery(function($){
				//初始化页面数据
				$.ajaxSetup({
					contentType: 'application/json',
					async:false,
					error:function(){
						var unique_id = $.gritter.add({
							title: '系统警告信息提示',
							text: ''+errMsg1+'<p style="padding-top:14px;"><span class="col-sm-6"></span><span class="col-sm-6" style="text-align:right;"><button class="btn btn-xs btn-success" onclick="CloseGritter(this);WindowClose();"><i class="ace-icon fa fa-check"></i>确定</button></span></p>',
							sticky: true,
							time: '',
							class_name: 'gritter-info gritter-center'
						});
					},
					timeout:5000
				});

				//初始化tree
				// var liStr = '';
				// var p_obj = localStorage.pernrBase?localStorage.pernrBase:'';
				// var ifKQYJSON = submit_7_1(p_obj);
				// if(ifKQYJSON.status != '0'){
				// 	var orgJSON = submit_4_1_xin(p_obj);
				// 	if(orgJSON.P_ORG_TAB.item.length != '0'){   //有部门
				// 		var P_ORG_TAB = orgJSON.P_ORG_TAB.item;
				// 		for(var k in P_ORG_TAB){
				// 			var ZNEXT = checkNoChar(P_ORG_TAB[k].ZNEXT);
				// 			if(ZNEXT == 'X'){
				// 				liStr +='<div class="tree-folder" style="display: block;">'
				// 		    			+'<div class="tree-folder-header tree-folder-box">'
				// 		            		+'<div class="tree-folder-header tree-folder-icon" onclick="getOrg(\''+checkNoChar(P_ORG_TAB[k].ORGEH)+'\')"><i class="ace-icon tree-plus"></i></div>'
				// 		            		+'<div class="tree-folder-header tree-folder-text" onclick="getOrgList(\''+checkNoChar(P_ORG_TAB[k].ORGEH)+'\')">'
				// 			                    +'<span>'+checkNoChar(P_ORG_TAB[k].ORGEH_TXT)+'</span>'
				// 			                +'</div>'
				// 		            	+'</div>'
				// 		                +'<div class="tree-folder-content" id="'+checkNoChar(P_ORG_TAB[k].ORGEH)+'" style="display: block;">'
				// 		                +'</div>'
				// 		                +'<div class="tree-loader" style="display:none;">'
				// 					        +'<div class="tree-loading">'
				// 					            +'<i class="ace-icon fa fa-refresh fa-spin blue"></i>'
				// 					        +'</div>'
				// 					    +'</div>'
				// 		            +'</div>';
				// 			}else{
				// 				liStr +='<div class="tree-folder" style="display: block;">'
				// 		    			+'<div class="tree-folder-header tree-folder-box">'
				// 		            		+'<div class="tree-folder-header tree-folder-text" onclick="getOrgList(\''+checkNoChar(P_ORG_TAB[k].ORGEH)+'\')" style="width: 100%;padding-left: 2px;">'
				// 			                    +'<span>'+checkNoChar(P_ORG_TAB[k].ORGEH_TXT)+'</span>'
				// 			                +'</div>'
				// 		            	+'</div>'
				// 		                +'<div class="tree-folder-content" id="'+checkNoChar(P_ORG_TAB[k].ORGEH)+'" style="display: block;">'
				// 		                +'</div>'
				// 		                +'<div class="tree-loader" style="display:none;">'
				// 					        +'<div class="tree-loading">'
				// 					            +'<i class="ace-icon fa fa-refresh fa-spin blue"></i>'
				// 					        +'</div>'
				// 					    +'</div>'
				// 		            +'</div>';
				// 			}
				// 		}
				// 	}else{
				// 		var unique_id = $.gritter.add({
				// 			title: '系统警告信息提示',
				// 			text: '您不具有权限查看团队考勤<p style="padding-top:14px;"><span class="col-sm-6"></span><span class="col-sm-6" style="text-align:right;"><button class="btn btn-xs btn-success" onclick="CloseGritter(this);WindowClose();"><i class="ace-icon fa fa-check"></i>确定</button></span></p>',
				// 			sticky: true,
				// 			time: '',
				// 			class_name: 'gritter-info gritter-center'
				// 		});
				// 	}
				// }else{
				// 	//$('#ifKQY').val('1');
				// 	//orgJSON = submit_4_1(checkNoChar(ifKQYJSON.E_OBJID));
				// 	var temp_objidItem1 = ifKQYJSON.ET_OBJID.item;
				// 	var temp_objidItem = [];
				// 	if(undefined == temp_objidItem1.length){
				// 		temp_objidItem.push(temp_objidItem1);
				// 	}else{
				// 		temp_objidItem = temp_objidItem1;
				// 	}
				// 	for(var oi in temp_objidItem){
				// 		var orgJSON = submit_4_1(checkNoChar(temp_objidItem[oi].OBJID));
				// 		if(checkNoChar(orgJSON.FLAG_ORGEH) == 'X'){
				// 			liStr +='<div class="tree-folder" style="display: block;">'
				// 	    			+'<div class="tree-folder-header tree-folder-box">'
				// 	            		+'<div class="tree-folder-header tree-folder-icon" onclick="getOrg(\''+checkNoChar(temp_objidItem[oi].OBJID)+'\')"><i class="ace-icon tree-plus"></i></div>'
				// 	            		+'<div class="tree-folder-header tree-folder-text" onclick="getOrgList(\''+checkNoChar(temp_objidItem[oi].OBJID)+'\')">'
				// 		                    +'<span>'+checkNoChar(temp_objidItem[oi].ORGTX)+'</span>'
				// 		                +'</div>'
				// 	            	+'</div>'
				// 	                +'<div class="tree-folder-content" id="'+checkNoChar(temp_objidItem[oi].OBJID)+'" style="display: none;">'
				// 	                +'</div>'
				// 	                +'<div class="tree-loader" style="display:none;">'
				// 				        +'<div class="tree-loading">'
				// 				            +'<i class="ace-icon fa fa-refresh fa-spin blue"></i>'
				// 				        +'</div>'
				// 				    +'</div>'
				// 	            +'</div>';
				// 		}else{
				// 			liStr +='<div class="tree-folder" style="display: block;">'
				// 	    			+'<div class="tree-folder-header tree-folder-box">'
				// 	            		+'<div class="tree-folder-header tree-folder-text" onclick="getOrgList(\''+checkNoChar(temp_objidItem[oi].OBJID)+'\')" style="width: 100%;padding-left: 2px;">'
				// 		                    +'<span>'+checkNoChar(temp_objidItem[oi].ORGTX)+'</span>'
				// 		                +'</div>'
				// 	            	+'</div>'
				// 	                +'<div class="tree-folder-content" id="'+checkNoChar(temp_objidItem[oi].OBJID)+'" style="display: block;">'
				// 	                +'</div>'
				// 	                +'<div class="tree-loader" style="display:none;">'
				// 				        +'<div class="tree-loading">'
				// 				            +'<i class="ace-icon fa fa-refresh fa-spin blue"></i>'
				// 				        +'</div>'
				// 				    +'</div>'
				// 	            +'</div>';
				// 		}
				// 	}
				// }
				// $('#tree1').html(liStr);
				
		});
		</script>

		<link rel="stylesheet" href="./assets/css/ace.onpage-help.css" />
		<link rel="stylesheet" href="./docs/assets/js/themes/sunburst.css" />

		<script type="text/javascript"> ace.vars['base'] = '.'; </script>
		<script src="./assets/js/ace/ace.onpage-help.js"></script>
		<script src="./docs/assets/js/rainbow.js"></script>
		<script src="./docs/assets/js/language/generic.js"></script>
		<script src="./docs/assets/js/language/html.js"></script>
		<script src="./docs/assets/js/language/css.js"></script>
		<script src="./docs/assets/js/language/javascript.js"></script>
	</body>
</html>
